<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–≠–ª–∏–∞—Å ‚Äî TMA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: var(--tg-theme-bg-color, #ffffff);
      color: var(--tg-theme-text-color, #000000);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .screen {
      display: none;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .active {
      display: flex;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      background: #2AABEE;
      color: white;
      cursor: pointer;
    }
    .word {
      font-size: 32px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="screen active" id="start-screen">
    <h1>–≠–ª–∏–∞—Å</h1>
    <p>–û–±—ä—è—Å–Ω–∏ —Å–ª–æ–≤–æ, –Ω–µ –Ω–∞–∑—ã–≤–∞—è –µ–≥–æ!</p>
    <button onclick="startGame()">–ù–∞—á–∞—Ç—å</button>
  </div>

  <div class="screen" id="game-screen">
    <div class="word" id="word-display">–°–ª–æ–≤–æ</div>
    <button onclick="nextWord(true)">–£–≥–∞–¥–∞–ª–∏ ‚úÖ</button>
    <button onclick="nextWord(false)">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å üîÑ</button>
  </div>

  <div class="screen" id="end-screen">
    <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
    <p>–°—á—ë—Ç: <span id="score">0</span></p>
    <button onclick="restartGame()">–°—ã–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑</button>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    const words = ["–ö–æ—Ç", "–°–∞–º–æ–ª—ë—Ç", "–û—á–∫–∏", "–ü–ª—è–∂", "–ì–∏—Ç–∞—Ä–∞", "–¢–µ–ª–µ–≤–∏–∑–æ—Ä"];
    let currentWordIndex = 0;
    let score = 0;
    let timer;

    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function startGame() {
      currentWordIndex = 0;
      score = 0;
      showScreen('game-screen');
      showWord();
      startTimer();
    }

    function showWord() {
      document.getElementById('word-display').textContent = words[currentWordIndex];
    }

    function nextWord(correct) {
      if (correct) score++;
      currentWordIndex++;
      if (currentWordIndex >= words.length) {
        endGame();
      } else {
        showWord();
      }
    }

    function endGame() {
      clearTimeout(timer);
      document.getElementById('score').textContent = score;
      showScreen('end-screen');
    }

    function restartGame() {
      showScreen('start-screen');
    }

    function startTimer() {
      timer = setTimeout(() => {
        endGame();
      }, 60000); // 60 —Å–µ–∫—É–Ω–¥
    }
  </script>
</body>
</html>
